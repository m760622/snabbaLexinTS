<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SnabbaLexin - Quran Learning</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+Arabic:wght@300;400;600;700&family=Amiri:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="manifest" href="/assets/manifest-mLlvNCWw.json">
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#064e3b" media="(prefers-color-scheme: dark)">
  <script type="module" crossorigin src="/assets/games-quran-BNom_4Y_.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/modulepreload-polyfill-B5Qt9EMX.js">
  <link rel="modulepreload" crossorigin href="/assets/utils-B-9iATqE.js">
  <link rel="modulepreload" crossorigin href="/assets/tts-BPLy4HEw.js">
  <link rel="modulepreload" crossorigin href="/assets/quiz-stats-txqAuu3g.js">
  <link rel="stylesheet" crossorigin href="/assets/games-quran-Bl6Nj2_K.css">
  <link rel="stylesheet" crossorigin href="/assets/style-B7MhtUIl.css">
</head>

<body>
    <header class="quran-header">
        <button class="back-btn" onclick="window.history.back()" aria-label="Tillbaka">
            <svg viewBox="0 0 24 24" fill="none" class="icon-md" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        </button>
        <div class="title-container">
            <span class="quran-icon">ğŸ“–</span>
            <h1 class="quran-title">Koranord</h1>
        </div>

        <button id="settingsBtn" class="settings-trigger" aria-label="InstÃ¤llningar">
            âš™ï¸
        </button>


    </header>

    <div class="search-container">
        <input type="text" id="searchInput" class="glass-input" placeholder="SÃ¶k ord, surah eller betydelse...">
    </div>

    <!-- Mode Tabs -->
    <div class="mode-tabs">
        <!-- Tabs Only -->
        <button class="tab-btn active" data-mode="list">ğŸ“œ Lista</button>
        <button class="tab-btn" data-mode="flashcards">ğŸ—‚ï¸ Kort</button>
        <button class="tab-btn" data-mode="quiz">â“ Quiz</button>
    </div>

    <!-- Filter Bar -->
    <div class="filter-bar" id="filterBar">
        <select class="glass-select" id="surahFilter" aria-label="Filtrera efter Surah">
            <option value="all">Alla Suror</option>
            <option value="favorites">â¤ï¸ Favoriter</option>
            <!-- Populated via JS -->
        </select>
        <select class="glass-select" id="typeFilter" aria-label="Filtrera efter ordtyp">
            <option value="all">Alla Typer</option>
            <option value="verb">Verb</option>
            <option value="noun">Noun</option>
            <option value="particle">Particle</option>
            <option value="phrase">Phrase</option>
            <option value="word">Word</option>
        </select>
    </div>

    <!-- Daily Goal Widget (Hidden in Quran screen) -->
    <div class="daily-goal-widget hidden" id="dailyGoalWidget">
        <span>ğŸ“… Dagens MÃ¥l:</span>
        <div class="goal-track">
            <div class="goal-fill" id="dailyGoalFill"></div>
        </div>
        <span id="dailyGoalText">0/5</span>
    </div>

    <!-- List Mode -->
    <main class="quran-list" id="quranList">
        <!-- Cards will be injected here via JS -->
    </main>

    <!-- Flashcard Mode -->
    <div id="flashcardMode" class="mode-container hidden">
        <div class="fc-wrapper">
            <!-- Flashcard Settings -->
            <div class="quiz-settings">
                <label class="toggle-switch">
                    <input type="checkbox" id="fcLangToggle" aria-label="Byt sprÃ¥k fÃ¶r flashcards">
                    <span class="slider round"></span>
                </label>
                <span id="fcModeLabel">ğŸ‡¸ğŸ‡¦ Arabiska (Framsida)</span>
            </div>

            <!-- Flashcard Container -->
            <div class="quran-flashcard" id="quranFlashcard">
                <div class="fc-inner">
                    <div class="fc-front">
                        <div class="fc-top-bar">
                            <span class="badger surah-badge" id="fcSurah">Surah</span>
                            <div class="action-group">
                                <button class="share-btn" id="fcShareBtn" title="Dela">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="18" cy="5" r="3"></circle>
                                        <circle cx="6" cy="12" r="3"></circle>
                                        <circle cx="18" cy="19" r="3"></circle>
                                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                                    </svg>
                                </button>
                                <button class="fav-btn" id="fcFavBtn" title="Spara till favoriter">
                                    <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path
                                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                                        </path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="fc-word-large" id="fcWord">Word</div>
                        <div class="fc-hint">Klicka fÃ¶r att vÃ¤nda</div>
                    </div>
                    <div class="fc-back">
                        <div class="fc-top-bar">
                            <span class="badger opacity-0">.</span> <!-- Spacer -->
                            <div class="action-group">
                                <button class="share-btn" id="fcShareBtnBack" title="Dela">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="18" cy="5" r="3"></circle>
                                        <circle cx="6" cy="12" r="3"></circle>
                                        <circle cx="18" cy="19" r="3"></circle>
                                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                                    </svg>
                                </button>
                                <button class="fav-btn" id="fcFavBtnBack" title="Spara till favoriter">
                                    <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path
                                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                                        </path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="fc-meaning" id="fcMeaning">Meaning</div>
                        <div class="fc-ayah-context" id="fcAyah">Ayah Context</div>
                        <div class="fc-ayah-trans" id="fcTrans">Translation</div>
                    </div>
                </div>
            </div>

            <!-- Rating Controls (Hidden until flipped, or always visible? Usually hidden) -->
            <div class="fc-controls rating-controls" id="ratingControls">
                <button class="rate-btn wrong" data-rating="again">
                    <span>âŒ</span>
                    <small>Igen</small>
                </button>
                <button class="rate-btn hard" data-rating="hard">
                    <span>ğŸ¤”</span>
                    <small>SvÃ¥r</small>
                </button>
                <button class="rate-btn good" data-rating="good">
                    <span>âœ…</span>
                    <small>Bra</small>
                </button>
                <button class="rate-btn easy" data-rating="easy">
                    <span>ğŸš€</span>
                    <small>LÃ¤tt</small>
                </button>
            </div>

            <!-- Navigation Controls (Secondary) -->
            <div class="fc-controls nav-only mt-10px opacity-70">
                <button class="control-btn" id="prevCardBtn">â®</button>
                <div class="fc-progress" id="fcProgress">1 / 100</div>
                <button class="control-btn" id="nextCardBtn">â¯</button>
            </div>
        </div>
    </div>

    <!-- Quiz Mode -->
    <div id="quizMode" class="mode-container hidden">
        <div class="quiz-wrapper">
            <div class="quiz-stats">
                <span>PoÃ¤ng: <span id="quizScore">0</span> | Streak: <span id="quizStreak">0</span>ğŸ”¥</span>
                <div class="xp-container">
                    <div class="xp-donut" id="xpDonut">
                        <div class="xp-donut-inner">
                            <span id="userXP">0</span>
                            <small>XP</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quiz Settings -->
            <div class="quiz-settings">
                <label class="toggle-switch">
                    <input type="checkbox" id="quizLangToggle" checked aria-label="Byt sprÃ¥k fÃ¶r quiz">
                    <span class="slider round"></span>
                </label>
                <span id="quizModeLabel">ğŸ‡¸ğŸ‡¦ Arabiska â” ğŸ‡¸ğŸ‡ª Svenska</span>
            </div>

            <div class="quiz-card">
                <div class="quiz-question-type">Vad betyder detta ord?</div>
                <div class="quiz-target-word" id="quizWord">WORD</div>

                <div class="quiz-options" id="quizOptions">
                    <!-- Options injected via JS -->
                </div>

                <div class="quiz-feedback hidden" id="quizFeedback"></div>
            </div>

            <button class="next-question-btn hidden" id="nextQuestionBtn">NÃ¤sta FrÃ¥ga â¯</button>
        </div>
    </div>

    <!-- Generic Modal for Tafsir/Info -->
    <div id="infoModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeInfoModal()">&times;</span>
            <h2 id="modalTitle">Tafsir & Info</h2>
            <div id="modalBody">
                <p>Loading...</p>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal hidden">
        <div class="modal-content settings-content">
            <div class="modal-header">
                <h2>âš™ï¸ InstÃ¤llningar</h2>
                <span class="close-modal" id="closeSettingsBtn">&times;</span>
            </div>

            <div class="setting-item">
                <label for="themeSelector">ğŸ¨ FÃ¤rgtema</label>
                <select id="themeSelector" class="glass-select full-width" title="VÃ¤lj FÃ¤rgtema">
                    <option value="default">ğŸŸ¢ Emerald (Standard)</option>
                    <option value="sage">ğŸŒ¿ Matte Green</option>
                    <option value="luxury">ğŸ‘‘ Golden Green</option>
                    <option value="teal">ğŸ’  Teal</option>
                    <option value="ruby">ğŸ’ Royal Ruby</option>
                    <option value="bronze">ğŸº Ancient Bronze</option>
                    <option value="midnight">ğŸŒ™ Midnight</option>
                    <option value="sunset">ğŸŒ… Sunset</option>
                    <option value="amethyst">ğŸŸ£ Amethyst</option>
                    <option value="oasis">ğŸŒ´ Oasis</option>
                    <option value="sky">â˜ï¸ Sky</option>
                    <option value="ocean">ğŸŒŠ Ocean</option>
                    <option value="navy">âš“ Navy</option>
                    <option value="obsidian">âš« Obsidian</option>
                    <option value="slate">ğŸ—¿ Slate</option>
                </select>
            </div>

            <div class="setting-item">
                <label for="mobileViewToggle">ğŸ“± Mobilvy</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="mobileViewToggle" aria-label="Aktivera Mobilvy">
                    <span class="slider round"></span>
                </label>
            </div>

            <div class="setting-item">
                <label for="globalFcLangToggle">ğŸ‡¸ğŸ‡¦ Visa Arabiska i Flashcards</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="globalFcLangToggle" checked aria-label="Visa Arabiska i Flashcards">
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
    </div>
    <!-- Scripts -->
</body>

</html>