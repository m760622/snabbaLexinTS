const S="snabbalexin_seen_words",f="snabbalexin_mistakes";class m{static select(e,r=1){if(!e||e.length===0)return[];if(e.length<=r)return[...e];const g=this.getMistakes(),l=this.getSeenWords(),d=e.map(i=>{var t;const o=((t=i[2])==null?void 0:t.toString())||"";let n=1;return g.find(h=>h.word===o)&&(n+=20),l.has(o)||(n+=5),{word:i,weight:n}}),c=[],a=[...d];for(let i=0;i<r&&a.length!==0;i++){const o=a.reduce((s,t)=>s+t.weight,0);let n=Math.random()*o;for(let s=0;s<a.length;s++)if(n-=a[s].weight,n<=0){const t=a.splice(s,1)[0];console.log(`ðŸ¤– Smart Select: ${t.word[2]} (Weight: ${t.weight})`),c.push(t.word);break}}return c}static markAsSeen(e){if(!e)return;const r=this.getSeenWords();r.has(e)||(r.add(e),localStorage.setItem(S,JSON.stringify(Array.from(r))))}static getMistakes(){try{const e=localStorage.getItem(f);return e?JSON.parse(e):[]}catch{return[]}}static getSeenWords(){try{const e=localStorage.getItem(S);return e?new Set(JSON.parse(e)):new Set}catch{return new Set}}}typeof window<"u"&&(window.SmartWordSelector=m);export{m as S};
