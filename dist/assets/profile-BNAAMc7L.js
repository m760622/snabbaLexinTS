import"./modulepreload-polyfill-B5Qt9EMX.js";import{TextSizeManager as i}from"./utils-B-9iATqE.js";import"./pwa-Bxh5GLjF.js";function h(){console.log("[ProfileUI] Initializing..."),p(),u(),f(),v(),S(),window.loadStats=u}function p(){const n=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",n)}function u(){const n=JSON.parse(localStorage.getItem("learningStats")||'{"streak": 0, "totalXP": 0}'),o=JSON.parse(localStorage.getItem("gamesStats")||'{"totalScore": 0}'),a=JSON.parse(localStorage.getItem("progressData")||'{"uniqueWords": 0}'),r=document.getElementById("streakValue"),e=document.getElementById("wordsValue"),t=document.getElementById("xpValue"),s=document.getElementById("userLevel");r&&(r.textContent=(n.streak||0).toString()),e&&(e.textContent=(a.uniqueWords||0).toString());const c=(n.totalXP||0)+(o.totalScore||0);t&&(t.textContent=c.toString());const l=Math.floor(c/100)+1,d=["NybÃ¶rjare","Studerande","Kunnig","Expert","MÃ¤stare"],g=d[Math.min(l-1,d.length-1)],m=`ðŸŒŸ NivÃ¥ ${l} - ${g}`;s&&(s.textContent=m,i.apply(s,m))}function f(){const n=document.getElementById("weeklyChart");if(!n)return;const o=JSON.parse(localStorage.getItem("weeklyActivity")||"[]"),a=o.length===7?o:[3,7,5,8,4,2,6],r=Math.max(...a,1);n.innerHTML=a.map(e=>{const t=e/r*100;return`<div class="chart-bar" style="height: ${Math.max(t,5)}%;" data-value="${e}"></div>`}).join("")}function v(){const n=document.getElementById("leaderboard");if(!n)return;const o=document.getElementById("xpValue"),a=o?parseInt(o.textContent||"0"):0,r=[{name:"Ahmad",score:2450,isYou:!1},{name:"Sara",score:1890,isYou:!1},{name:"Mohammed",score:1650,isYou:!1},{name:"Du / Ø£Ù†Øª",score:a,isYou:!0},{name:"Emma",score:Math.max(a-50,0),isYou:!1}].sort((e,t)=>t.score-e.score);n.innerHTML=r.slice(0,5).map((e,t)=>{const s=["gold","silver","bronze","other","other"];return`
            <div class="leaderboard-item ${e.isYou?"you":""}">
                <div class="rank ${s[t]}">${t+1}</div>
                <div class="leaderboard-name">${e.name}</div>
                <div class="leaderboard-score">${e.score} XP</div>
            </div>`}).join(""),n.querySelectorAll(".leaderboard-name").forEach(e=>{i.apply(e,e.textContent||"")})}function S(){const n=document.getElementById("achievementsGrid");if(!n)return;const o=new Set(JSON.parse(localStorage.getItem("unlockedAchievements")||"[]")),a=[{id:"first_word",icon:"ðŸ“–",name:"FÃ¶rsta ordet"},{id:"streak_3",icon:"ðŸ”¥",name:"3 dagar"},{id:"streak_7",icon:"ðŸ†",name:"7 dagar"},{id:"words_50",icon:"ðŸ“š",name:"50 ord"},{id:"words_100",icon:"ðŸ’¯",name:"100 ord"},{id:"game_first",icon:"ðŸŽ®",name:"FÃ¶rsta spelet"},{id:"quiz_perfect",icon:"â­",name:"100% quiz"},{id:"lesson_5",icon:"ðŸ“",name:"5 lektioner"},{id:"cognates_50",icon:"ðŸ”¤",name:"50 liknande"},{id:"daily_3",icon:"ðŸ…",name:"3 utmaningar"},{id:"flashcard_100",icon:"ðŸƒ",name:"100 kort"},{id:"master",icon:"ðŸ‘‘",name:"MÃ¤stare"}];let r=0;n.innerHTML=a.map(t=>{const s=o.has(t.id);return s&&r++,`
            <div class="achievement ${s?"unlocked":""}">
                <span class="achievement-icon">${t.icon}</span>
                <span class="achievement-name">${t.name}</span>
            </div>`}).join("");const e=document.getElementById("achievementCount");e&&(e.textContent=`(${r}/${a.length})`),n.querySelectorAll(".achievement-name").forEach(t=>{i.apply(t,t.textContent||"")})}typeof window<"u"&&document.addEventListener("DOMContentLoaded",()=>{h()});
