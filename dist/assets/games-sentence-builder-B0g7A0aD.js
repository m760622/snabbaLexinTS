import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              *//* empty css              */import"./games-utils-HTOXTqfV.js";console.log("sentenceBuilderGame.ts LOADED");let l=[],m=[],f=0;function p(e=0){if(typeof dictionaryData>"u"||dictionaryData.length===0){e<10?(console.warn(`Data not ready for Sentence Builder. Retrying (${e+1}/10)...`),typeof showToast=="function"&&showToast("Laddar speldata... / Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...","info"),setTimeout(()=>p(e+1),500)):(console.error("Critical: Data failed to load for Sentence Builder."),typeof showToast=="function"&&showToast("Kunde inte ladda data. Uppdatera sidan. / ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.","error"));return}const o=document.getElementById("sentenceHint"),n=document.getElementById("sentenceDropZone"),t=document.getElementById("sentenceWordBank"),c=document.getElementById("sentenceFeedback"),s=document.getElementById("nextSentenceBtn"),a=document.getElementById("checkSentenceBtn");if(!o||!n||!t||!c)return;c.innerHTML="",c.className="game-feedback",s&&(s.style.display="none"),a&&(a.style.display="block"),n.innerHTML='<div class="drop-placeholder">Dra ord hit / Ø§Ø³Ø­Ø¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù‡Ù†Ø§</div>',t.innerHTML="",m=[];let r=null,u=0;for(;!r&&u<200;){const d=dictionaryData[Math.floor(Math.random()*dictionaryData.length)];d&&d[COL_EX]&&d[COL_EX].split(" ").length>=3&&d[COL_EX].split(" ").length<=8&&(r=d),u++}if(!r){o.textContent="Kunde inte hitta en mening. FÃ¶rsÃ¶k igen.";return}const y=r[COL_EX],g=r[COL_EX_ARB]||r[COL_ARB]||"";o.innerHTML=`<span style="direction: rtl; display: block;">${g}</span>`,l=y.split(" ").filter(d=>d.length>0),[...l].sort(()=>Math.random()-.5).forEach(d=>{const i=document.createElement("button");i.className="sentence-word",i.textContent=d,i.onclick=()=>B(i,d),t.appendChild(i)}),a&&(a.onclick=h)}function B(e,o){const n=document.getElementById("sentenceDropZone"),t=document.getElementById("sentenceWordBank");if(!n||!t)return;const c=n.querySelector(".drop-placeholder");if(e.parentElement===t)c&&c.remove(),n.appendChild(e),m.push(o);else{t.appendChild(e);const s=m.indexOf(o);s>-1&&m.splice(s,1),n.children.length===0&&(n.innerHTML='<div class="drop-placeholder">Dra ord hit / Ø§Ø³Ø­Ø¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù‡Ù†Ø§</div>')}}function h(){const e=document.getElementById("sentenceFeedback"),o=document.getElementById("nextSentenceBtn"),n=document.getElementById("checkSentenceBtn"),t=document.getElementById("sentenceDropZone"),c=document.getElementById("sentenceScore");if(!t||!e)return;const s=Array.from(t.querySelectorAll(".sentence-word")).map(r=>r.textContent).join(" "),a=l.join(" ");s===a?(e.textContent="âœ… Helt rÃ¤tt! / ØµØ­ÙŠØ­ ØªÙ…Ø§Ù…Ø§Ù‹!",e.className="game-feedback success",f++,c&&(c.textContent=String(f)),typeof saveScore=="function"&&saveScore("sentence",f),typeof TTSManager<"u"&&TTSManager&&TTSManager.speak(a,"sv"),o&&(o.style.display="block"),n&&(n.style.display="none")):(e.textContent="âŒ Inte riktigt... FÃ¶rsÃ¶k igen! / Ù„ÙŠØ³ ØªÙ…Ø§Ù…Ø§Ù‹...",e.className="game-feedback error")}function E(){const e=document.getElementById("sentenceDropZone"),o=document.getElementById("sentenceWordBank"),n=document.getElementById("sentenceFeedback"),t=document.getElementById("nextSentenceBtn"),c=document.getElementById("checkSentenceBtn");!e||!o||!n||(e.innerHTML="",o.innerHTML="",l.forEach(s=>{const a=document.createElement("span");a.className="sentence-word correct",a.textContent=s,e.appendChild(a)}),n.innerHTML="ðŸ“– RÃ¤tt ordning visas ovan",n.className="game-feedback",typeof TTSManager<"u"&&TTSManager&&TTSManager.speak(l.join(" "),"sv"),t&&(t.style.display="block"),c&&(c.style.display="none"))}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("nextSentenceBtn");e&&(e.onclick=()=>p())});window.startSentenceGame=p;window.showSentenceAnswer=E;
