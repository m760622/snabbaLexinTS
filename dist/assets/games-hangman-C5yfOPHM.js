const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loader-dpivfNje.js","assets/config-C2usAgi3.js","assets/db-CDJvXXn2.js"])))=>i.map(i=>d[i]);
import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import"./loader-dpivfNje.js";import"./games-utils-BCKUWDty.js";import{_ as K}from"./preload-helper-D7HrI6pR.js";import{T as C}from"./tts-BZUKiY6M.js";import{generateEducationalSentence as Q,TextSizeManager as Y}from"./utils-CfsGp8IC.js";import{D as J}from"./db-CDJvXXn2.js";import{S as O}from"./smart-selector-DkxipquW.js";import{m as W}from"./mistakes-review-DLeHaHPD.js";import"./pwa-Bn3RWWLO.js";import"./config-C2usAgi3.js";import"./i18n-D0OWfz62.js";import"./toast-manager-B6dAfcdf.js";const N="ABCDEFGHIJKLMNOPQRSTUVWXYZ√Ö√Ñ√ñ".split(""),X=["head","body","leftArm","rightArm","leftLeg","rightLeg"],x={easy:{minLen:3,maxLen:5,lives:8,scoreMultiplier:1},medium:{minLen:4,maxLen:8,lives:6,scoreMultiplier:1.5},hard:{minLen:6,maxLen:12,lives:4,scoreMultiplier:2}},Z={all:null,substantiv:"Substantiv",verb:"Verb",adjektiv:"Adjektiv"},tt={first:10,type:5,example:20};let r="",b="",s=null,S=[],m=0,E=6,f=!1,L="medium",R="all",k=!1,M=0,p=!0,l=parseInt(localStorage.getItem("hangman_coins")||"100"),y=parseInt(localStorage.getItem("hangman_streak")||"0"),i=JSON.parse(localStorage.getItem("hangman_stats")||'{"gamesPlayed": 0, "wins": 0, "bestStreak": 0, "totalScore": 0}');const V=0,v=1,B=2,T=3,D=7;async function et(){const t=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",t),localStorage.getItem("mobileView")==="true"&&(document.documentElement.classList.add("iphone-mode"),document.body.classList.add("iphone-view")),g(),F(),window.useHint=ct,window.startNewGame=u,window.learnMore=pt,window.openStatsModal=ht,window.closeStatsModal=St,window.changeDifficulty=Et,window.changeCategory=wt,window.toggleSound=Lt,window.startDailyChallenge=yt,window.guessLetter=A,window.createConfetti=q;try{await J.init()}catch(n){console.error("DB Init failed",n)}window.dictionaryData?u():K(()=>import("./loader-dpivfNje.js"),__vite__mapDeps([0,1,2])).then(()=>{window.dictionaryData?u():window.addEventListener("dictionaryLoaded",()=>u())})}function nt(){const t=window.dictionaryData;if(!t)return console.error("Dictionary data not loaded"),{word:"LADDAR",hint:"V√§ntar p√• data...",type:"Loading",example:"",id:"0"};const n=x[L],e=Z[R],o=t.filter(w=>{const d=w[B],I=w[v];return!(!d||!/^[a-zA-Z√•√§√∂√Ö√Ñ√ñ]+$/.test(d)||d.length<n.minLen||d.length>n.maxLen||e&&!I.toLowerCase().includes(e.toLowerCase()))});if(o.length===0)return{word:"TOMT",hint:"No words found",type:"Error",example:"",id:"0"};const a=O.select(o,1)[0];s=a;const c=a[B];return O.markAsSeen(c),{word:c.toUpperCase(),hint:a[T],type:a[v],example:a[D]||"",id:a[V]}}function u(){const t=nt();r=t.word,b=t.hint,S=[],m=0,f=!1,E=x[L].lives;const n=document.getElementById("mainHint"),e=document.getElementById("categoryBadge"),o=document.getElementById("resultOverlay");n&&(n.textContent=`üîç ${b}`),e&&(e.textContent=t.type.replace(".","")),o&&o.classList.remove("visible"),dt(),ft(),ot(),at(),it(),_("happy")}function ot(){const t=document.getElementById("livesBar");if(t){t.innerHTML="";for(let n=0;n<E;n++){const e=document.createElement("span");e.className="heart",e.id=`heart-${n}`,e.textContent="‚ù§Ô∏è",t.appendChild(e)}}}function at(){const t=document.getElementById("keyboard");t&&(t.innerHTML="",N.forEach(n=>{const e=document.createElement("button");e.className="key",e.textContent=n,e.onclick=()=>A(n,e),t.appendChild(e)}))}function it(){const t=document.getElementById("wordDisplay");t&&(t.innerHTML="",r.split("").forEach((n,e)=>{const o=document.createElement("div");o.className="letter-slot",o.id=`slot-${e}`,t.appendChild(o)}))}function A(t,n){f||S.includes(t)||(S.push(t),n.classList.add("used"),r.includes(t)?(n.classList.add("correct"),G(t),P("correct"),st()&&(f=!0,rt())):(n.classList.add("wrong"),m++,mt(m-1),ut(),P("wrong"),_(m>=E-2?"worried":"normal"),m>=E&&(f=!0,lt())))}function G(t,n=!1){r.split("").forEach((e,o)=>{if(e===t){const a=document.getElementById(`slot-${o}`);a&&(a.textContent=t,a.classList.add(n?"hint-revealed":"revealed"))}}),C&&p&&setTimeout(()=>C.speak(t.toLowerCase(),"sv"),50)}function st(){return r.split("").every(t=>S.includes(t))}function rt(){const n=(E-m)*20,e=x[L].scoreMultiplier,o=Math.round((100+n)*e);y++,l+=o,i.wins++,i.gamesPlayed++,i.totalScore+=o,y>i.bestStreak&&(i.bestStreak=y),s&&W.markAsLearned(s[B]),h(),g(),q(),k&&(M++,M>=5&&gt()),j(!0,o)}function lt(){y=0,i.gamesPlayed++,s&&W.addMistake({word:s[B],translation:s[T],game:"hangman"}),h(),g(),_("sad"),r.split("").forEach((t,n)=>{const e=document.getElementById(`slot-${n}`);e&&!e.textContent&&(e.textContent=t,e.classList.add("revealed-wrong"))}),j(!1,0)}function ct(t){const n=tt[t];if(l<n){alert("Inte tillr√§ckligt med mynt! / ŸÑŸäÿ≥ ŸÖŸÜ ÿßŸÑÿπŸÖŸÑÿßÿ™");return}if(t==="first"){const e=r[0];if(!S.includes(e)){l-=n,h(),g(),S.push(e),G(e,!0);const o=Array.from(document.querySelectorAll(".key")).find(a=>a.textContent===e);o&&o.classList.add("used","hint-used")}}else if(t==="type"){const e=document.getElementById("mainHint");e&&(l-=n,h(),g(),e.textContent+=` (${s[v]})`)}else if(t==="example"){const e=document.getElementById("mainHint"),o=s[D];e&&o&&(l-=n,h(),g(),e.textContent=`üìù ${o}`)}}function dt(){document.querySelectorAll(".hangman-part").forEach(t=>{t.style.opacity="0"})}function mt(t){const n=X[t];if(n){const e=document.getElementById(n);e&&(e.style.opacity="1")}}function ut(){const t=document.getElementById(`heart-${E-m}`);t&&(t.classList.add("lost"),setTimeout(()=>t.textContent="üñ§",300))}function _(t){const n=document.getElementById("leftEye"),e=document.getElementById("rightEye"),o=document.getElementById("mouth");!n||!e||!o||(n.style.opacity="1",e.style.opacity="1",o.style.opacity="1",t==="happy"?o.setAttribute("d","M124,60 Q130,65 136,60"):t==="worried"?o.setAttribute("d","M124,62 Q130,62 136,62"):t==="sad"&&o.setAttribute("d","M124,65 Q130,60 136,65"))}function ft(){document.querySelectorAll(".hint-chip").forEach(t=>t.classList.remove("used"))}function H(){const t=new Date;return`hangman_daily_${t.getFullYear()}_${t.getMonth()}_${t.getDate()}`}function F(){const t=localStorage.getItem(H())==="completed",n=document.getElementById("dailyBtn");n&&t&&(n.classList.add("completed"),n.textContent="‚úÖ Klar!")}function yt(){if(localStorage.getItem(H())==="completed")return;k=!0,M=0,L="medium";const t=document.getElementById("difficultySelect");t&&(t.value="medium"),u()}function gt(){localStorage.setItem(H(),"completed"),l+=50,h(),g(),F(),k=!1}function g(){const t=document.getElementById("coinsValue"),n=document.getElementById("streakValue");t&&(t.textContent=l.toString()),n&&(n.textContent=y.toString())}function h(){localStorage.setItem("hangman_coins",l.toString()),localStorage.setItem("hangman_streak",y.toString()),localStorage.setItem("hangman_stats",JSON.stringify(i))}function j(t,n){const e=document.getElementById("resultOverlay"),o=document.getElementById("resultEmoji"),a=document.getElementById("resultText"),c=document.getElementById("resultWord"),w=document.getElementById("resultScore"),d=document.getElementById("resultStreak");e&&e.classList.add("visible"),o&&(o.textContent=t?"üéâ":"üò¢"),a&&(a.textContent=t?"Bra jobbat! / ÿ£ÿ≠ÿ≥ŸÜÿ™!":"Tyv√§rr! / ŸÑŸÑÿ£ÿ≥ŸÅ!");const I=Q(r,b,s[D],s[T],void 0,s[v]);c&&(c.innerHTML=`
            <div style="margin-bottom: 0.5rem; font-size: 1.4rem; color: #4ade80;">${r}</div>
            <div style="font-size: 1.1rem; color: #cbd5e1;">${I.s}</div>
            <div style="font-size: 1rem; color: #fbbf24; margin-top: 0.3rem; font-family: 'Tajawal', sans-serif;">${I.a}</div>
        `),w&&(w.textContent=t?`+${n}`:"0"),d&&(d.textContent=y.toString()),C&&p&&setTimeout(()=>C.speak(r.toLowerCase(),"sv"),500),c&&c.querySelectorAll("div").forEach(($,z)=>{const U=z===0?1:2;Y.apply($,$.textContent||"",U)})}function pt(){s&&(window.location.href=`../details.html?id=${s[V]}`)}function ht(){const t=document.getElementById("statGamesPlayed"),n=document.getElementById("statWinRate"),e=document.getElementById("statBestStreak"),o=document.getElementById("statTotalScore"),a=document.getElementById("statsModal");t&&(t.textContent=i.gamesPlayed.toString()),n&&(n.textContent=i.gamesPlayed>0?Math.round(i.wins/i.gamesPlayed*100)+"%":"0%"),e&&(e.textContent=i.bestStreak.toString()),o&&(o.textContent=i.totalScore.toString()),a&&a.classList.add("visible")}function St(){const t=document.getElementById("statsModal");t&&t.classList.remove("visible")}function Et(){const t=document.getElementById("difficultySelect");t&&(L=t.value,f||u())}function wt(){const t=document.getElementById("categorySelect");t&&(R=t.value,f||u())}function Lt(){p=!p;const t=document.querySelector(".sound-btn");t&&(t.textContent=p?"üîä":"üîá")}function P(t){p&&console.log("Play sound:",t)}function q(){const t=document.getElementById("confettiContainer");if(!t)return;const n=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#6c5ce7","#a29bfe"];for(let e=0;e<50;e++){const o=document.createElement("div");o.className="confetti",o.style.left=Math.random()*100+"%",o.style.background=n[Math.floor(Math.random()*n.length)],o.style.width=Math.random()*10+5+"px",o.style.height=o.style.width,o.style.borderRadius=Math.random()>.5?"50%":"0",o.style.animation=`confettiFall ${Math.random()*2+2}s linear forwards`,o.style.animationDelay=Math.random()*.5+"s",t.appendChild(o)}setTimeout(()=>{t&&(t.innerHTML="")},2e3)}document.addEventListener("keydown",t=>{const n=t.key.toUpperCase();if(N.includes(n)&&!f){const e=Array.from(document.querySelectorAll(".key")).find(o=>o.textContent===n);e&&!e.classList.contains("used")&&A(n,e)}});document.addEventListener("DOMContentLoaded",et);
