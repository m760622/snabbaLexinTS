import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              *//* empty css              */import"./games-utils-HTOXTqfV.js";console.log("wordleGame.ts LOADED");let g="",w=[],u="",C=!1,B=parseInt(localStorage.getItem("wordleStreak")||"0");function b(){localStorage.setItem("wordleStreak",B.toString())}window.wordleStreak=B;function L(s=0){if(typeof dictionaryData>"u"||dictionaryData.length===0){s<10?(console.warn(`Data not ready for Wordle. Retrying (${s+1}/10)...`),typeof showToast=="function"&&showToast("Laddar speldata... / Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...","info"),setTimeout(()=>L(s+1),500)):(console.error("Critical: Data failed to load for Wordle."),typeof showToast=="function"&&showToast("Kunde inte ladda data. Uppdatera sidan. / ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.","error"));return}const m=document.getElementById("wordleGrid"),d=document.getElementById("wordleKeyboard"),t=document.getElementById("wordleMessage"),l=document.getElementById("nextWordleBtn"),y=document.getElementById("wordleTypeFilter"),e=document.getElementById("wordleDifficulty"),n=(y==null?void 0:y.value)||"all",i=(e==null?void 0:e.value)||"medium";let r=5,p=5;i==="easy"?(r=4,p=4):i==="medium"?(r=5,p=5):i==="hard"&&(r=6,p=6),w=[],u="",C=!1,t&&(t.textContent=""),l&&(l.style.display="none"),m&&(m.innerHTML=""),d&&(d.innerHTML="");let E=null,S=0;for(;!E&&S<500;){const o=dictionaryData[Math.floor(Math.random()*dictionaryData.length)];o&&o[COL_SWE]&&o[COL_SWE].length>=r&&o[COL_SWE].length<=p&&!o[COL_SWE].includes(" ")&&!o[COL_SWE].includes("-")&&/^[a-zA-ZÃ¥Ã¤Ã¶Ã…Ã„Ã–]+$/.test(o[COL_SWE])&&(n!=="all"?o[COL_TYPE]&&o[COL_TYPE].toLowerCase().includes(n)&&(E=o):E=o),S++}if(!E){t&&(t.textContent="Kunde inte hitta ett ord. FÃ¶rsÃ¶k igen.");return}if(g=E[COL_SWE].toUpperCase(),console.log("Wordle Target:",g,"Difficulty:",i),m)for(let o=0;o<30;o++){const c=document.createElement("div");c.className="wordle-tile",m.appendChild(c)}d&&["QWERTYUIOPÃ…","ASDFGHJKLÃ–Ã„","ZXCVBNM"].forEach(o=>{const c=document.createElement("div");if(c.className="keyboard-row",o.split("").forEach(a=>{const f=document.createElement("button");f.className="key-btn",f.textContent=a,f.onclick=()=>h(a),f.dataset.key=a,c.appendChild(f)}),o==="ZXCVBNM"){const a=document.createElement("button");a.className="key-btn wide",a.textContent="ENTER",a.onclick=k,c.appendChild(a);const f=document.createElement("button");f.className="key-btn wide",f.textContent="âŒ«",f.onclick=()=>h("BACKSPACE"),c.prepend(f)}d.appendChild(c)}),document.onkeydown=o=>{const c=document.getElementById("wordleGame");if(!c||c.style.display==="none")return;const a=o.key.toUpperCase();a==="ENTER"?k():a==="BACKSPACE"?h("BACKSPACE"):/^[A-ZÃ…Ã„Ã–]$/.test(a)&&h(a)}}function h(s){C||(s==="BACKSPACE"?u=u.slice(0,-1):u.length<5&&(u+=s),T())}function T(){const s=document.getElementById("wordleGrid");if(!s)return;const d=w.length*5;for(let t=0;t<5;t++){const l=s.children[d+t];l&&(l.textContent="",l.classList.remove("typing"))}for(let t=0;t<u.length;t++){const l=s.children[d+t];l&&(l.textContent=u[t],l.classList.add("typing"))}}function k(){if(C)return;if(u.length!==5){typeof showToast=="function"&&showToast("Ordet mÃ¥ste ha 5 bokstÃ¤ver");return}const s=u;w.push(s);const m=(w.length-1)*5,d=document.getElementById("wordleGrid");if(!d)return;const t=g.split(""),l=s.split(""),y=Array(5).fill("absent");l.forEach((e,n)=>{e===t[n]&&(y[n]="correct",t[n]=null,l[n]=null)}),l.forEach((e,n)=>{if(e&&t.includes(e)){y[n]="present";const i=t.indexOf(e);t[i]=null}}),y.forEach((e,n)=>{const i=d.children[m+n];i&&setTimeout(()=>{i.classList.add(e);const r=document.querySelector(`.key-btn[data-key="${s[n]}"]`);if(r){const p=r.classList.contains("correct")?"correct":r.classList.contains("present")?"present":"absent";e==="correct"?r.className="key-btn correct":e==="present"&&p!=="correct"?r.className="key-btn present":e==="absent"&&p==="absent"?r.className="key-btn absent":e==="absent"&&!r.classList.contains("correct")&&!r.classList.contains("present")&&r.classList.add("absent")}},n*100)}),s===g?(C=!0,setTimeout(()=>{typeof showToast=="function"&&showToast("Grattis! Du gissade ordet! ðŸŽ‰ / ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!","success"),typeof playSuccessSound=="function"&&playSuccessSound(),typeof triggerConfetti=="function"&&triggerConfetti();const e=document.getElementById("wordleMessage");e&&(e.textContent="Du vann! / ÙØ²Øª!");const n=document.getElementById("nextWordleBtn");if(n&&(n.style.display="block"),B++,b(),typeof saveScore=="function"){const i=(6-w.length+1)*10;saveScore("wordle",i)}},1500)):w.length>=6?(C=!0,setTimeout(()=>{typeof showToast=="function"&&showToast(`TyvÃ¤rr! Ordet var ${g}`,"error");const e=document.getElementById("wordleMessage");e&&(e.textContent=`RÃ¤tt svar: ${g}`);const n=document.getElementById("nextWordleBtn");n&&(n.style.display="block"),B=0,b()},1500)):u=""}window.startWordleGame=L;window.handleWordleInput=h;window.updateWordleGrid=T;window.submitWordleGuess=k;
