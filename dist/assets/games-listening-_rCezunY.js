import"./modulepreload-polyfill-B5Qt9EMX.js";import"./pwa-Bxh5GLjF.js";const u=10,v=2,E=3;let c=[],o=0,d=0,f="easy",l=!1,a=0;const n={speakerBtn:()=>document.getElementById("speakerBtn"),wordInput:()=>document.getElementById("wordInput"),scoreEl:()=>document.getElementById("score"),currentEl:()=>document.getElementById("current"),progressFill:()=>document.getElementById("progressFill"),translationHint:()=>document.getElementById("translationHint"),resultOverlay:()=>document.getElementById("resultOverlay"),resultEmoji:()=>document.getElementById("resultEmoji"),resultText:()=>document.getElementById("resultText"),resultStats:()=>document.getElementById("resultStats")};function L(){let e=2,t=20;return f==="easy"?(e=2,t=5):f==="medium"?(e=4,t=8):(e=6,t=15),dictionaryData.filter(s=>{const r=s[v];return r&&r.length>=e&&r.length<=t&&/^[a-zA-ZÃ¥Ã¤Ã¶Ã…Ã„Ã– ]+$/.test(r)}).sort(()=>Math.random()-.5).slice(0,u).map(s=>({swedish:s[v].toLowerCase(),arabic:s[E]}))}function m(){if(o>=c.length)return;const e=n.speakerBtn();e==null||e.classList.add("playing"),TTSManager.speak(c[o].swedish,"sv"),setTimeout(()=>e==null?void 0:e.classList.remove("playing"),1500)}function p(){if(l||o>=c.length)return;const e=n.wordInput(),t=e.value.trim().toLowerCase(),i=c[o].swedish.toLowerCase(),s=n.translationHint();if(t===i){d++;const r=n.scoreEl();r&&(r.textContent=String(d)),e.classList.add("correct"),l=!0,setTimeout(()=>{e.classList.remove("correct"),e.value="",s==null||s.classList.remove("visible"),a=0,o++,l=!1,o>=u?y():(g(),m())},1e3)}else e.classList.add("wrong"),a++,navigator.vibrate&&navigator.vibrate(100),a>=2&&s&&(s.textContent=`ğŸ’¡ ${c[o].arabic}`,s.classList.add("visible")),a>=3?(e.value=i,l=!0,setTimeout(()=>{e.classList.remove("wrong"),e.value="",s==null||s.classList.remove("visible"),a=0,o++,l=!1,o>=u?y():(g(),m())},2e3)):setTimeout(()=>e.classList.remove("wrong"),500)}function g(){const e=n.currentEl(),t=n.progressFill();e&&(e.textContent=String(o+1)),t&&(t.style.width=`${o/u*100}%`)}function I(e,t){f=e,document.querySelectorAll(".diff-btn").forEach(i=>i.classList.remove("active")),t.classList.add("active"),w()}function y(){const e=Math.round(d/u*100),t=n.resultOverlay(),i=n.resultEmoji(),s=n.resultText(),r=n.resultStats();i&&(i.textContent=e>=80?"ğŸ†":e>=50?"ğŸ‘":"ğŸ“š"),s&&(s.textContent=`${e}% rÃ¤tt!`),r&&(r.innerHTML=`âœ… ${d} / ${u}`),t==null||t.classList.add("visible"),typeof ProgressManager<"u"&&ProgressManager.trackGame()}function w(){var s,r;(s=n.resultOverlay())==null||s.classList.remove("visible"),(r=n.translationHint())==null||r.classList.remove("visible"),o=0,d=0,a=0,l=!1;const e=n.scoreEl(),t=n.wordInput(),i=n.progressFill();e&&(e.textContent="0"),t&&(t.value=""),i&&(i.style.width="0%"),c=L(),g(),setTimeout(m,500)}function T(){typeof ThemeManager<"u"&&ThemeManager.init();const e=n.wordInput();e==null||e.addEventListener("keydown",t=>{t.key==="Enter"&&p()}),w()}window.playWord=m;window.checkAnswer=p;window.setDifficulty=I;window.startNewGame=w;document.addEventListener("DOMContentLoaded",T);
