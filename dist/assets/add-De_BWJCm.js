import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{TextSizeManager as u}from"./utils-B-9iATqE.js";import{D as y}from"./db-TWgxRddZ.js";import"./pwa-Bxh5GLjF.js";const E="modulepreload",f=function(n){return"/"+n},m={},g=function(o,r,i){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),d=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=f(c),c in m)return;m[c]=!0;const l=c.endsWith(".css"),v=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const s=document.createElement("link");if(s.rel=l?"stylesheet":E,l||(s.as="script"),s.crossOrigin="",s.href=c,d&&s.setAttribute("nonce",d),document.head.appendChild(s),l)return new Promise((w,p)=>{s.addEventListener("load",w),s.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function e(t){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=t,window.dispatchEvent(d),!d.defaultPrevented)throw t}return a.then(t=>{for(const d of t||[])d.status==="rejected"&&e(d.reason);return o().catch(e)})};function I(){console.log("[AddUI] Initializing..."),h(),B(),S()}function h(){const n=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",n),n==="dark"&&document.body.classList.add("dark-mode")}function B(){const n=document.getElementById("addWordForm");if(!n)return;const r=new URLSearchParams(window.location.search).get("edit");r&&b(r),n.addEventListener("submit",async i=>{i.preventDefault();const a=r||"local_"+Date.now(),e={id:a,swe:document.getElementById("swe").value,arb:document.getElementById("arb").value,type:document.getElementById("type").value,sweDef:document.getElementById("sweDef").value,arbDef:document.getElementById("arbDef").value,exSwe:document.getElementById("exSwe").value,exArb:document.getElementById("exArb").value,raw:null};e.raw=[a,e.type,e.swe,e.arb,e.arbDef,e.sweDef,"",e.exSwe,e.exArb,"",""],await y.saveWord(e)&&g(()=>import("./utils-B-9iATqE.js"),[]).then(d=>{d.showToast("Sparat! / تم الحفظ!"),setTimeout(()=>window.location.href="index.html",1500)})})}async function b(n){var i,a,e;const o=await y.getWordById(n);if(!o)return;document.getElementById("swe").value=o[2]||"",document.getElementById("arb").value=o[3]||"",document.getElementById("type").value=o[1]||"",document.getElementById("arbDef").value=o[4]||"",document.getElementById("sweDef").value=o[5]||"",document.getElementById("exSwe").value=o[7]||"",document.getElementById("exArb").value=o[8]||"";const r=new Event("input");(i=document.getElementById("swe"))==null||i.dispatchEvent(r),(a=document.getElementById("arb"))==null||a.dispatchEvent(r),(e=document.getElementById("type"))==null||e.dispatchEvent(new Event("change"))}function S(){const n=document.getElementById("swe"),o=document.getElementById("arb"),r=document.getElementById("type"),i=document.getElementById("previewSwe"),a=document.getElementById("previewArb"),e=document.getElementById("previewType");if(!n||!i)return;const t=()=>{const d=n.value||"...",c=o.value||"...",l=r.value||"N/A";a&&(a.textContent=c,u.apply(a,c)),e&&(e.textContent=l),u.apply(i,d)};n.addEventListener("input",t),o.addEventListener("input",t),r.addEventListener("change",t)}typeof window<"u"&&document.addEventListener("DOMContentLoaded",()=>{I()});
