<!DOCTYPE html>
<html lang="sv" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Search - Svenska</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+Arabic:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/word_search.css">
</head>

<body>

    <header>
        <!-- Row 1: Back Button + Mobile Toggle + Game Title -->
        <div class="header-row-1">
            <button class="back-btn" onclick="window.location.href='games.html'">â†</button>
            <button id="mobileToggle" class="mobile-toggle-btn" onclick="toggleMobileView()"
                title="ÙˆØ¶Ø¹ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">ğŸ“±</button>
            <h1 class="game-title">Neon Search</h1>
        </div>


        <!-- Row 2: Topic/Level Name -->
        <div class="header-row-2">
            <h2 id="header-title">Topic Name</h2>
        </div>

        <!-- Row 3: Controls -->
        <div class="header-row-3">
            <button class="icon-btn" onclick="game.showMenu()">âš™ï¸</button>

            <button id="prev-level-btn" class="nav-arrow-btn" onclick="game.prevLevel()">â®</button>
            <div id="level-badge-container" class="level-badge level-badge-clickable" onclick="game.showNavigation()">
                NivÃ¥ <span id="level-display">1</span></div>
            <button id="next-level-btn" class="nav-arrow-btn" onclick="game.nextLevel()">â¯</button>

            <div id="score-container">
                <span>ğŸ’</span> <span id="score-display">0</span>
                <span id="combo-display" class="combo-display-style">x1</span>
            </div>



            <div id="timer-display">60s</div>
        </div>
    </header>

    <!-- GAME VIEW (Always active now) -->
    <div id="game-container">
        <div id="grid">
            <div id="fog-overlay"></div>
            <!-- Cells generated by JS -->
        </div>
        <div id="flashlight-overlay"></div>
        <div id="word-bank"></div>
        <div class="bottom-controls">
            <div id="mystery-hint">ğŸ•µï¸ Mystery: <span id="mystery-text">...</span></div>
            <button class="hint-btn" onclick="game.useHint()" id="hint-btn">
                <span>ğŸ’¡</span> -5
            </button>
        </div>
    </div>
    <div id="floating-label"></div>

    <!-- Bottom Info Panel -->
    <div id="bottom-info-panel">
        <button class="panel-close-btn"
            onclick="document.getElementById('bottom-info-panel').classList.remove('active')">Ã—</button>
        <div class="panel-header">
            <span id="panel-word" class="panel-word">WORD</span>
            <span id="panel-translation" class="panel-translation">Translation</span>
        </div>
        <div id="panel-sentence-sv" class="panel-sentence-sv">Swedish sentence example.</div>
        <div id="panel-sentence-ar" class="panel-sentence-ar">Arabic sentence translation.</div>
    </div>

    <!-- Main Menu (Settings) Modal -->
    <div id="main-menu" class="modal-overlay">
        <div class="modal-content modal-content-wide">
            <h2 class="level-complete-title">InstÃ¤llningar / Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
            <p class="modal-subtitle">Select Mode / Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…Ø·</p>

            <div class="mode-grid">
                <div class="mode-card" onclick="game.setMode('classic')">
                    <div class="mode-icon">ğŸ§©</div>
                    <div class="mode-name">Classic</div>
                </div>
                <div class="mode-card" onclick="game.setMode('flashlight')">
                    <div class="mode-icon">ğŸ”¦</div>
                    <div class="mode-name">Flashlight</div>
                </div>
                <div class="mode-card" onclick="game.setMode('timerush')">
                    <div class="mode-icon">â³</div>
                    <div class="mode-name">Time Rush</div>
                </div>
                <div class="mode-card" onclick="game.setMode('shifting')">
                    <div class="mode-icon">ğŸŒŠ</div>
                    <div class="mode-name">Shifting Grid</div>
                </div>
            </div>

            <h3 class="settings-heading">
                Settings / Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>

            <div class="settings-grid">
                <div class="settings-btn" id="btn-mystery" onclick="game.toggleMystery(!game.mysteryEnabled)">
                    <span class="toggle-icon">âšª</span>
                    <span>Mystery / Ø®ÙÙŠØ©</span>
                </div>

                <div class="settings-btn" id="btn-fog" onclick="game.toggleFog(!game.fogEnabled)">
                    <span class="toggle-icon">âšª</span>
                    <span>Fog / Ø¶Ø¨Ø§Ø¨</span>
                </div>

                <div class="settings-btn" id="btn-bomb" onclick="game.toggleBomb(!game.bombEnabled)">
                    <span class="toggle-icon">âšª</span>
                    <span>Bomb / Ù‚Ù†Ø¨Ù„Ø©</span>
                </div>

                <div class="settings-btn" id="btn-frozen" onclick="game.toggleFrozen(!game.frozenEnabled)">
                    <span class="toggle-icon">âšª</span>
                    <span>Ice / Ø¬Ù„ÙŠØ¯</span>
                </div>
            </div>

            <button class="modal-btn modal-btn-styled" onclick="game.closeMenu()">Play /
                Ø§Ù„Ø¹Ø¨</button>
        </div>
    </div>

    <!-- Navigation Modal (Topics & Levels) -->
    <div id="nav-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Game Menu / Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h2>
            <button class="modal-btn" onclick="game.startDailyChallenge()">ğŸ“… Daily Challenge / Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠ</button>

            <div class="settings-group">
                <h3>Settings / Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
                <div class="nav-header">
                    <button id="nav-back-btn" class="nav-back nav-back-hidden"
                        onclick="game.showTopicsInNav()">â†</button>
                    <h2 id="nav-title" class="nav-title-style">Topics
                    </h2>
                    <button class="nav-back" onclick="game.closeNavigation()">Ã—</button>
                </div>
            </div>

            <div id="nav-topics-container">
                <div class="topics-grid" id="topics-list"></div>
            </div>

            <div id="nav-levels-container" class="nav-levels-hidden">
                <div class="levels-grid" id="levels-list"></div>
            </div>
        </div>
    </div>

    <!-- Level Complete Modal -->
    <div id="level-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="level-complete-title">NivÃ¥ Klar! ğŸ‰</h2>
            <p>Bra jobbat!</p>
            <button class="modal-btn" onclick="game.nextLevel()">NÃ¤sta NivÃ¥ / Ø§Ù„ØªØ§Ù„ÙŠ</button>
            <button class="btn-exit-modern" onclick="game.showNavigation()">Levels / Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</button>
        </div>
    </div>

    <!-- Game Complete Modal -->
    <div id="game-complete-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="level-complete-title">Grattis! ğŸ†</h2>
            <p>Du har klarat alla nivÃ¥er i detta Ã¤mne!</p>
            <button class="modal-btn" onclick="game.showNavigation()">VÃ¤lj nytt Ã¤mne / Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹</button>
        </div>
    </div>

    <!-- Game Over Modal (Time Rush) -->
    <div id="game-over-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="level-complete-title game-over-title">Game Over â³</h2>
            <p>Tiden Ã¤r slut!</p>
            <button class="modal-btn" onclick="game.restartLevel()">Try Again / Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹</button>
            <button class="btn-exit-modern" onclick="game.showNavigation()">Exit / Ø®Ø±ÙˆØ¬</button>
        </div>
    </div>

        <script type="module" src="../src/games/wordSearchGame.ts"></script>

    <script type="module" src="/src/pwa.ts"></script>
</body>


</html>